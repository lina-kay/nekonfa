# Telegram-бот для организации голосования и составления расписания

## Основные функции:
- Голосование за темы пользователей
- Админ-панель для управления параметрами
- Бронирование слотов организаторами
- Генерация расписания с приоритетной очередью не вошедших тем
- Возможность добавления тем через диалог

---

## Команды для пользователей:

### Основные команды:
`/start` — получить стартовое меню с кнопками:
  - Перейти к голосованию
  - Добавить свою тему

`/vote` — начать голосование за существующие темы  
`/changevote` — изменить уже сделанный выбор  
`/finalize` — (для админов) показать итоговое расписание

---

## Команды для организаторов:

### Настройка параметров:
`/setrooms <число>` — установить количество залов  
`/setslots <число>` — количество слотов в каждом зале  
`/setvotes <число>` — лимит голосов на пользователя  
`/namerooms` — задать названия залов (через точку с запятой)

### Управление темами:
`/addtopic` — добавить темы через текстовый ввод  
`/removetopic` — удалить существующие темы  
`/topiclist` — показать список доступных тем  
`/cleartopics` — очистить все темы

### Бронирование слотов:
`/bookslot` — забронировать слот в зале  
`/clearbookings` — сбросить все бронирования

### Аналитика:
`/countvotes` — количество проголосовавших  
`/secret` — детальный отчет по голосам  
`/finalize` — сформировать расписание + список приоритетных тем

---

## Особенности реализации:

### Формирование расписания:
- Темы распределяются по убыванию голосов
- Забронированные слоты имеют приоритет
- Не вошедшие темы отображаются в приоритетном списке с количеством голосов

### Добавление тем через диалог:
1. Нажать кнопку "Добавить тему" в `/start`
2. Ввести имя спикера
3. Выбрать категорию:
   - Создать
   - Обсудить
   - Объединиться
4. Ввести название темы

Формат добавляемой темы:  
`[Имя]: [Категория]. [Название темы]`

---

## Переменные окружения:
```bash
TOKEN=ваш_токен_телеграм_бота
TOPICS_CHAT=ссылка_на_чат_с_темами
VOTING_CHAT=ссылка_на_чат_для_возврата
PERSISTENCE_PATH=путь_к_файлу_хранения_данных (опционально)

## Пример использования:

1. **Запуск бота:**  
   ```bash
   python main.py
2. Настройка залов:

/setrooms 3 → /namerooms "Лекторий; Конференц-зал; Коворкинг"

3. Пользователь добавляет тему:

Нажимает "Добавить тему" → Вводит имя → Выбирает категорию → Вводит название

4. Финализация:

/finalize покажет расписание и список приоритетных тем вне расписания

